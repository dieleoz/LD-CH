<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>VII.2.4_Interfaces_CTC_ITCS_Protocolo_FFFIS</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
</head>
<body>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#interfaces-ctc-itcs---protocolo-fffis"
id="toc-interfaces-ctc-itcs---protocolo-fffis">INTERFACES CTC-ITCS -
PROTOCOLO FFFIS</a>
<ul>
<li><a href="#app-la-dorada-chiriguanÃ¡---comunicaciÃ³n-entre-sistemas"
id="toc-app-la-dorada-chiriguanÃ¡---comunicaciÃ³n-entre-sistemas">APP La
Dorada-ChiriguanÃ¡ - ComunicaciÃ³n entre Sistemas</a></li>
<li><a href="#propÃ³sito-y-alcance" id="toc-propÃ³sito-y-alcance">ğŸ¯
<strong>PROPÃ“SITO Y ALCANCE</strong></a>
<ul>
<li><a href="#propÃ³sito" id="toc-propÃ³sito"><strong>1.1
PROPÃ“SITO</strong></a></li>
<li><a href="#alcance" id="toc-alcance"><strong>1.2
ALCANCE</strong></a></li>
<li><a href="#referencias-normativas"
id="toc-referencias-normativas"><strong>1.3 REFERENCIAS
NORMATIVAS</strong></a></li>
</ul></li>
<li><a href="#arquitectura-de-comunicaciÃ³n"
id="toc-arquitectura-de-comunicaciÃ³n">ğŸ“¡ <strong>ARQUITECTURA DE
COMUNICACIÃ“N</strong></a>
<ul>
<li><a href="#arquitectura-general"
id="toc-arquitectura-general"><strong>2.1 ARQUITECTURA
GENERAL</strong></a></li>
<li><a
href="#gateway-interoperabilidad-ctc-fenoco-nuevo-dt-interfaces-001"
id="toc-gateway-interoperabilidad-ctc-fenoco-nuevo-dt-interfaces-001"><strong>2.2
GATEWAY INTEROPERABILIDAD CTC-FENOCO</strong> â­ <strong>NUEVO
(DT-INTERFACES-001)</strong></a></li>
</ul></li>
<li><a href="#protocolo-fffis" id="toc-protocolo-fffis">ğŸ”§
<strong>PROTOCOLO FFFIS</strong></a>
<ul>
<li><a href="#especificaciÃ³n-del-protocolo"
id="toc-especificaciÃ³n-del-protocolo"><strong>3.1 ESPECIFICACIÃ“N DEL
PROTOCOLO</strong></a></li>
<li><a href="#procesamiento-de-mensajes"
id="toc-procesamiento-de-mensajes"><strong>3.2 PROCESAMIENTO DE
MENSAJES</strong></a></li>
</ul></li>
<li><a href="#seguridad-de-comunicaciÃ³n"
id="toc-seguridad-de-comunicaciÃ³n">ğŸ”’ <strong>SEGURIDAD DE
COMUNICACIÃ“N</strong></a>
<ul>
<li><a href="#autenticaciÃ³n-y-autorizaciÃ³n"
id="toc-autenticaciÃ³n-y-autorizaciÃ³n"><strong>4.1 AUTENTICACIÃ“N Y
AUTORIZACIÃ“N</strong></a></li>
<li><a href="#cifrado-y-integridad"
id="toc-cifrado-y-integridad"><strong>4.2 CIFRADO Y
INTEGRIDAD</strong></a></li>
</ul></li>
<li><a href="#especificaciones-tÃ©cnicas"
id="toc-especificaciones-tÃ©cnicas">ğŸ“Š <strong>ESPECIFICACIONES
TÃ‰CNICAS</strong></a>
<ul>
<li><a href="#especificaciones-de-red"
id="toc-especificaciones-de-red"><strong>5.1 ESPECIFICACIONES DE
RED</strong></a></li>
<li><a href="#especificaciones-de-rendimiento"
id="toc-especificaciones-de-rendimiento"><strong>5.2 ESPECIFICACIONES DE
RENDIMIENTO</strong></a></li>
</ul></li>
<li><a href="#plan-de-implementaciÃ³n" id="toc-plan-de-implementaciÃ³n">ğŸ”§
<strong>PLAN DE IMPLEMENTACIÃ“N</strong></a>
<ul>
<li><a href="#fases-de-desarrollo"
id="toc-fases-de-desarrollo"><strong>6.1 FASES DE
DESARROLLO</strong></a></li>
<li><a href="#cronograma-crÃ­tico"
id="toc-cronograma-crÃ­tico"><strong>6.2 CRONOGRAMA
CRÃTICO</strong></a></li>
</ul></li>
<li><a href="#mÃ©tricas-y-monitoreo" id="toc-mÃ©tricas-y-monitoreo">ğŸ“Š
<strong>MÃ‰TRICAS Y MONITOREO</strong></a>
<ul>
<li><a href="#mÃ©tricas-de-comunicaciÃ³n"
id="toc-mÃ©tricas-de-comunicaciÃ³n"><strong>7.1 MÃ‰TRICAS DE
COMUNICACIÃ“N</strong></a></li>
<li><a href="#mÃ©tricas-de-seguridad"
id="toc-mÃ©tricas-de-seguridad"><strong>7.2 MÃ‰TRICAS DE
SEGURIDAD</strong></a></li>
<li><a href="#sistema-de-monitoreo"
id="toc-sistema-de-monitoreo"><strong>7.3 SISTEMA DE
MONITOREO</strong></a></li>
</ul></li>
<li><a href="#control-de-versiones" id="toc-control-de-versiones">ğŸ“‹
<strong>CONTROL DE VERSIONES</strong></a></li>
<li><a href="#conclusiones-y-prÃ³ximos-pasos"
id="toc-conclusiones-y-prÃ³ximos-pasos">âœ… <strong>CONCLUSIONES Y
PRÃ“XIMOS PASOS</strong></a>
<ul>
<li><a href="#estado-actual" id="toc-estado-actual"><strong>ğŸ¯ ESTADO
ACTUAL</strong></a></li>
<li><a href="#prÃ³ximos-pasos-inmediatos"
id="toc-prÃ³ximos-pasos-inmediatos"><strong>ğŸ”„ PRÃ“XIMOS PASOS
INMEDIATOS</strong></a></li>
<li><a href="#contactos" id="toc-contactos"><strong>ğŸ“
CONTACTOS</strong></a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h1 id="interfaces-ctc-itcs---protocolo-fffis">INTERFACES CTC-ITCS -
PROTOCOLO FFFIS</h1>
<h2 id="app-la-dorada-chiriguanÃ¡---comunicaciÃ³n-entre-sistemas">APP La
Dorada-ChiriguanÃ¡ - ComunicaciÃ³n entre Sistemas</h2>
<p><strong>Estado:</strong> ğŸ”„ <strong>EN DESARROLLO - FASE 1
CRÃTICA</strong><br />
<strong>Fecha:</strong> 27 de Enero, 2025<br />
<strong>Responsable:</strong> Ing. IntegraciÃ³n - EPC<br />
<strong>Especialista:</strong> Especialista Senior en Control de
Trenes<br />
<strong>EstÃ¡ndar Base:</strong> CENELEC EN 50159, UIC 438, Protocolo
FFFIS</p>
<hr />
<h2 id="propÃ³sito-y-alcance">ğŸ¯ <strong>PROPÃ“SITO Y
ALCANCE</strong></h2>
<h3 id="propÃ³sito"><strong>1.1 PROPÃ“SITO</strong></h3>
<p>Este documento define las <strong>interfaces de comunicaciÃ³n entre
CTC e ITCS</strong> usando el <strong>protocolo FFFIS (Form Fit Function
Interface Specification)</strong> para garantizar interoperabilidad
segura y confiable entre sistemas de control ferroviario.</p>
<h3 id="alcance"><strong>1.2 ALCANCE</strong></h3>
<p>Las interfaces CTC-ITCS cubrirÃ¡n: - <strong>ComunicaciÃ³n
bidireccional</strong> entre Centro de Control y Radio Block Center -
<strong>Intercambio de informaciÃ³n</strong> de autorizaciones de
movimiento - <strong>CoordinaciÃ³n operacional</strong> en tiempo real -
<strong>GestiÃ³n de alarmas</strong> y eventos crÃ­ticos -
<strong>IntegraciÃ³n segura</strong> segÃºn estÃ¡ndares CENELEC</p>
<h3 id="referencias-normativas"><strong>1.3 REFERENCIAS
NORMATIVAS</strong></h3>
<ul>
<li><strong>CENELEC EN 50159:</strong> ComunicaciÃ³n segura en sistemas
ferroviarios</li>
<li><strong>UIC 438:</strong> Especificaciones tÃ©cnicas ETCS Level
2</li>
<li><strong>IEC 62280:</strong> Seguridad en comunicaciones
ferroviarias</li>
<li><strong>EN 50128:</strong> Software para sistemas de control
ferroviario</li>
</ul>
<hr />
<h2 id="arquitectura-de-comunicaciÃ³n">ğŸ“¡ <strong>ARQUITECTURA DE
COMUNICACIÃ“N</strong></h2>
<h3 id="arquitectura-general"><strong>2.1 ARQUITECTURA
GENERAL</strong></h3>
<h4 id="diagrama-de-interfaces"><strong>2.1.1 DIAGRAMA DE
INTERFACES</strong></h4>
<pre><code>ARQUITECTURA CTC-ITCS INTERFACES
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CENTRO DE CONTROL CTC                        â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              CTC APPLICATION LAYER                      â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ Traffic â”‚  â”‚ Signal  â”‚  â”‚ Safety  â”‚  â”‚ Monitor â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ Control â”‚  â”‚ Control â”‚  â”‚ Control â”‚  â”‚ System  â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              CTC COMMUNICATION LAYER                    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ Protocolâ”‚  â”‚Security â”‚  â”‚Message  â”‚  â”‚Network  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ Handler â”‚  â”‚Manager  â”‚  â”‚Queue    â”‚  â”‚Manager  â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ FFFIS Protocol
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RADIO BLOCK CENTER RBC                       â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              RBC COMMUNICATION LAYER                    â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚Network  â”‚  â”‚Message  â”‚  â”‚Security â”‚  â”‚Protocol â”‚   â”‚   â”‚
â”‚  â”‚  â”‚Manager  â”‚  â”‚Queue    â”‚  â”‚Manager  â”‚  â”‚Handler  â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              RBC APPLICATION LAYER                      â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚Movement â”‚  â”‚Train    â”‚  â”‚Safety   â”‚  â”‚System   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚Auth.    â”‚  â”‚Superv.  â”‚  â”‚Monitor  â”‚  â”‚Monitor  â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
<h4 id="componentes-principales"><strong>2.1.2 COMPONENTES
PRINCIPALES</strong></h4>
<pre><code>COMPONENTES DE INTERFACE:

1. CTC SIDE:
   - Protocol Handler: GestiÃ³n de protocolo FFFIS
   - Security Manager: AutenticaciÃ³n y cifrado
   - Message Queue: Cola de mensajes
   - Network Manager: GestiÃ³n de red

2. RBC SIDE:
   - Network Manager: GestiÃ³n de red
   - Message Queue: Cola de mensajes
   - Security Manager: AutenticaciÃ³n y cifrado
   - Protocol Handler: GestiÃ³n de protocolo FFFIS

3. COMMUNICATION CHANNEL:
   - Red Ethernet redundante
   - Protocolo TCP/IP
   - Cifrado AES-256
   - AutenticaciÃ³n mutua</code></pre>
<h3
id="gateway-interoperabilidad-ctc-fenoco-nuevo-dt-interfaces-001"><strong>2.2
GATEWAY INTEROPERABILIDAD CTC-FENOCO</strong> â­ <strong>NUEVO
(DT-INTERFACES-001)</strong></h3>
<h4 id="protocolo-uic-918-4"><strong>2.2.1 PROTOCOLO UIC
918-4</strong></h4>
<p>El Gateway de interoperabilidad con FENOCO implementa el protocolo
UIC 918-4, estÃ¡ndar europeo para intercambio de informaciÃ³n operativa
entre sistemas ferroviarios.</p>
<p><strong>CaracterÃ­sticas tÃ©cnicas:</strong> -
<strong>EstÃ¡ndar:</strong> UIC 918-4 (Interface for Operational
Information) - <strong>Tipo de Gateway:</strong> Industrial con
capacidad multi-protocolo - <strong>Medio fÃ­sico:</strong> Ethernet
redundante sobre fibra Ã³ptica - <strong>Seguridad:</strong> IEC 62443
Security Level SL-3 - <strong>Redundancia:</strong> N+1 (Gateway activo
+ Gateway standby)</p>
<h4 id="funciones-del-gateway"><strong>2.2.2 FUNCIONES DEL
GATEWAY</strong></h4>
<ol type="1">
<li><strong>ConversiÃ³n de Protocolos:</strong>
<ul>
<li>CTC nativo (interno) â†”ï¸ UIC 918-4 (externo FENOCO)</li>
<li>Mapeo de mensajes operativos</li>
<li>NormalizaciÃ³n de datos de estado de vÃ­a</li>
</ul></li>
<li><strong>Intercambio de InformaciÃ³n Operativa:</strong>
<ul>
<li>Estado de ocupaciÃ³n de vÃ­as compartidas</li>
<li>ProgramaciÃ³n de trenes en puntos de interoperabilidad</li>
<li>Avisos operativos y restricciones</li>
<li>SincronizaciÃ³n de horarios</li>
</ul></li>
<li><strong>GestiÃ³n de Interfaz:</strong>
<ul>
<li>AutenticaciÃ³n mutua CTC-FENOCO</li>
<li>Cifrado de comunicaciones operativas</li>
<li>Monitoreo de salud del enlace</li>
<li>Log de todas las transacciones</li>
</ul></li>
</ol>
<h4 id="arquitectura-del-gateway"><strong>2.2.3 ARQUITECTURA DEL
GATEWAY</strong></h4>
<pre><code>CTC APP LA DORADA-CHIRIGUANÃ        FENOCO (Red existente)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          â”‚        â”‚                      â”‚
â”‚  CTC Virtual             â”‚        â”‚  CTC FENOCO          â”‚
â”‚  (Protocolo propietario) â”‚        â”‚  (Protocolo UIC)     â”‚
â”‚                          â”‚        â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                               â”‚
             â”‚                               â”‚
        â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
        â”‚                                         â”‚
        â”‚    GATEWAY UIC 918-4 (Ãtem 1.1.106)    â”‚
        â”‚    Bloque LÃ³gico de IntegraciÃ³n        â”‚
        â”‚                                         â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
        â”‚  â”‚ Middleware Interoperabilidad    â”‚   â”‚
        â”‚  â”‚  - ConversiÃ³n protocolos        â”‚   â”‚
        â”‚  â”‚  - Mapeo de mensajes            â”‚   â”‚
        â”‚  â”‚  - NormalizaciÃ³n datos          â”‚   â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
        â”‚                                         â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
        â”‚  â”‚ Firewall IEC 62443 (SL-3)       â”‚   â”‚
        â”‚  â”‚  - InspecciÃ³n paquetes          â”‚   â”‚
        â”‚  â”‚  - Control acceso               â”‚   â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
        â”‚                                         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                    Fibra Ã“ptica N+1</code></pre>
<h4 id="mensajes-uic-918-4-soportados"><strong>2.2.4 MENSAJES UIC 918-4
SOPORTADOS</strong></h4>
<table>
<colgroup>
<col style="width: 36%" />
<col style="width: 28%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th style="text-align: left;">Tipo Mensaje</th>
<th style="text-align: left;">DirecciÃ³n</th>
<th style="text-align: left;">DescripciÃ³n</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>OPR-001</strong></td>
<td style="text-align: left;">CTC â†’ FENOCO</td>
<td style="text-align: left;">Solicitud de autorizaciÃ³n operativa</td>
</tr>
<tr>
<td style="text-align: left;"><strong>OPR-002</strong></td>
<td style="text-align: left;">FENOCO â†’ CTC</td>
<td style="text-align: left;">ConfirmaciÃ³n/rechazo autorizaciÃ³n</td>
</tr>
<tr>
<td style="text-align: left;"><strong>STA-001</strong></td>
<td style="text-align: left;">CTC â†”ï¸ FENOCO</td>
<td style="text-align: left;">Estado de ocupaciÃ³n de vÃ­a compartida</td>
</tr>
<tr>
<td style="text-align: left;"><strong>TRN-001</strong></td>
<td style="text-align: left;">CTC â†’ FENOCO</td>
<td style="text-align: left;">ProgramaciÃ³n de tren en punto
interoperabilidad</td>
</tr>
<tr>
<td style="text-align: left;"><strong>ALR-001</strong></td>
<td style="text-align: left;">CTC â†”ï¸ FENOCO</td>
<td style="text-align: left;">Alertas operativas y restricciones</td>
</tr>
<tr>
<td style="text-align: left;"><strong>HRT-001</strong></td>
<td style="text-align: left;">CTC â†”ï¸ FENOCO</td>
<td style="text-align: left;">Heartbeat / Keep-alive</td>
</tr>
</tbody>
</table>
<h4 id="requisitos-de-rendimiento"><strong>2.2.5 REQUISITOS DE
RENDIMIENTO</strong></h4>
<ul>
<li><strong>Latencia mÃ¡xima:</strong> &lt;200ms end-to-end</li>
<li><strong>Disponibilidad:</strong> 99.9% (con redundancia N+1)</li>
<li><strong>Throughput:</strong> MÃ­nimo 100 mensajes/minuto</li>
<li><strong>Failover automÃ¡tico:</strong> &lt;2 segundos</li>
<li><strong>RetenciÃ³n de logs:</strong> 180 dÃ­as (requisito
regulatorio)</li>
</ul>
<p><strong>Presupuesto:</strong> Incluido en Ã­tem 1.1.106 - $150.000.000
COP<br />
<strong>DecisiÃ³n TÃ©cnica:</strong> DT-INTERFACES-001-2025-10-09</p>
<hr />
<h2 id="protocolo-fffis">ğŸ”§ <strong>PROTOCOLO FFFIS</strong></h2>
<h3 id="especificaciÃ³n-del-protocolo"><strong>3.1 ESPECIFICACIÃ“N DEL
PROTOCOLO</strong></h3>
<h4 id="estructura-de-mensajes"><strong>3.1.1 ESTRUCTURA DE
MENSAJES</strong></h4>
<pre><code>ESTRUCTURA MENSAJE FFFIS:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HEADER (16 bytes)                    â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚Version  â”‚ â”‚Type     â”‚ â”‚Length   â”‚ â”‚Sequence â”‚     â”‚
â”‚  â”‚(2 bytes)â”‚ â”‚(2 bytes)â”‚ â”‚(4 bytes)â”‚ â”‚(4 bytes)â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚Source   â”‚ â”‚Dest     â”‚ â”‚Flags    â”‚ â”‚Reserved â”‚     â”‚
â”‚  â”‚(2 bytes)â”‚ â”‚(2 bytes)â”‚ â”‚(2 bytes)â”‚ â”‚(2 bytes)â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PAYLOAD (Variable)                   â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚              APPLICATION DATA                       â”‚â”‚
â”‚  â”‚                                                     â”‚â”‚
â”‚  â”‚  - Movement Authority Data                          â”‚â”‚
â”‚  â”‚  - Train Status Information                         â”‚â”‚
â”‚  â”‚  - Safety Alerts                                   â”‚â”‚
â”‚  â”‚  - System Status                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TRAILER (8 bytes)                     â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚Checksum â”‚ â”‚CRC32    â”‚ â”‚Timestampâ”‚ â”‚Reserved â”‚     â”‚
â”‚  â”‚(2 bytes)â”‚ â”‚(4 bytes)â”‚ â”‚(2 bytes)â”‚ â”‚(2 bytes)â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
<h4 id="tipos-de-mensajes"><strong>3.1.2 TIPOS DE MENSAJES</strong></h4>
<pre><code>TIPOS DE MENSAJES FFFIS:

1. MOVEMENT AUTHORITY (MA):
   - Tipo: 0x0001
   - DirecciÃ³n: CTC â†’ RBC
   - Contenido: AutorizaciÃ³n de movimiento
   - Frecuencia: Por cada autorizaciÃ³n
   - Prioridad: Alta

2. TRAIN STATUS (TS):
   - Tipo: 0x0002
   - DirecciÃ³n: RBC â†’ CTC
   - Contenido: Estado del tren
   - Frecuencia: Cada 10 segundos
   - Prioridad: Media

3. SAFETY ALERT (SA):
   - Tipo: 0x0003
   - DirecciÃ³n: Bidireccional
   - Contenido: Alerta de seguridad
   - Frecuencia: Por evento
   - Prioridad: CrÃ­tica

4. SYSTEM STATUS (SS):
   - Tipo: 0x0004
   - DirecciÃ³n: Bidireccional
   - Contenido: Estado del sistema
   - Frecuencia: Cada 30 segundos
   - Prioridad: Baja

5. EMERGENCY STOP (ES):
   - Tipo: 0x0005
   - DirecciÃ³n: CTC â†’ RBC
   - Contenido: Comando de parada
   - Frecuencia: Por evento
   - Prioridad: CrÃ­tica

6. CONFIGURATION (CF):
   - Tipo: 0x0006
   - DirecciÃ³n: CTC â†’ RBC
   - Contenido: ConfiguraciÃ³n
   - Frecuencia: Por cambio
   - Prioridad: Media</code></pre>
<h3 id="procesamiento-de-mensajes"><strong>3.2 PROCESAMIENTO DE
MENSAJES</strong></h3>
<h4 id="flujo-de-comunicaciÃ³n"><strong>3.2.1 FLUJO DE
COMUNICACIÃ“N</strong></h4>
<pre><code>FLUJO DE COMUNICACIÃ“N CTC-ITCS:

1. ENVÃO DE MENSAJE (CTC â†’ RBC):
   - AplicaciÃ³n CTC genera mensaje
   - Protocol Handler encapsula en FFFIS
   - Security Manager cifra y autentica
   - Network Manager envÃ­a por TCP/IP
   - RBC recibe y valida mensaje

2. PROCESAMIENTO EN RBC:
   - Network Manager recibe mensaje
   - Security Manager valida y descifra
   - Protocol Handler extrae datos
   - AplicaciÃ³n RBC procesa informaciÃ³n
   - RBC genera respuesta si es necesaria

3. RESPUESTA (RBC â†’ CTC):
   - AplicaciÃ³n RBC genera respuesta
   - Protocol Handler encapsula en FFFIS
   - Security Manager cifra y autentica
   - Network Manager envÃ­a por TCP/IP
   - CTC recibe y procesa respuesta</code></pre>
<h4 id="gestiÃ³n-de-errores"><strong>3.2.2 GESTIÃ“N DE
ERRORES</strong></h4>
<pre><code>GESTIÃ“N DE ERRORES:

1. ERRORES DE COMUNICACIÃ“N:
   - Timeout: 5 segundos
   - Reintentos: 3 intentos
   - EscalaciÃ³n: Alerta al operador
   - RecuperaciÃ³n: ReconexiÃ³n automÃ¡tica

2. ERRORES DE PROTOCOLO:
   - Mensaje corrupto: Descarte y solicitud de retransmisiÃ³n
   - Secuencia incorrecta: Reordenamiento de mensajes
   - Checksum invÃ¡lido: ValidaciÃ³n y retransmisiÃ³n
   - CRC32 invÃ¡lido: Descarte y alerta

3. ERRORES DE SEGURIDAD:
   - AutenticaciÃ³n fallida: Bloqueo temporal
   - Cifrado invÃ¡lido: Descarte de mensaje
   - Timestamp incorrecto: ValidaciÃ³n de tiempo
   - Certificado expirado: RenovaciÃ³n automÃ¡tica</code></pre>
<hr />
<h2 id="seguridad-de-comunicaciÃ³n">ğŸ”’ <strong>SEGURIDAD DE
COMUNICACIÃ“N</strong></h2>
<h3 id="autenticaciÃ³n-y-autorizaciÃ³n"><strong>4.1 AUTENTICACIÃ“N Y
AUTORIZACIÃ“N</strong></h3>
<h4 id="autenticaciÃ³n-mutua"><strong>4.1.1 AUTENTICACIÃ“N
MUTUA</strong></h4>
<pre><code>AUTENTICACIÃ“N MUTUA:

1. INTERCAMBIO DE CERTIFICADOS:
   - CTC envÃ­a certificado digital
   - RBC valida certificado CTC
   - RBC envÃ­a certificado digital
   - CTC valida certificado RBC
   - Establecimiento de sesiÃ³n segura

2. ALGORITMO DE AUTENTICACIÃ“N:
   - Algoritmo: RSA-2048
   - Hash: SHA-256
   - Firma digital: PKCS#1 v1.5
   - Validez: 1 aÃ±o
   - RenovaciÃ³n: AutomÃ¡tica

3. GESTIÃ“N DE CERTIFICADOS:
   - Autoridad certificadora: ICA (Internal CA)
   - Almacenamiento: HSM (Hardware Security Module)
   - Backup: Redundante en 3 ubicaciones
   - RevocaciÃ³n: Lista de certificados revocados</code></pre>
<h4 id="autorizaciÃ³n-de-acceso"><strong>4.1.2 AUTORIZACIÃ“N DE
ACCESO</strong></h4>
<pre><code>AUTORIZACIÃ“N DE ACCESO:

1. ROLES Y PERMISOS:
   - CTC Operator: Lectura/escritura completa
   - RBC Operator: Lectura/escritura limitada
   - Maintenance: Solo lectura
   - Administrator: Acceso completo

2. CONTROL DE ACCESO:
   - Lista de control de acceso (ACL)
   - ValidaciÃ³n de permisos por mensaje
   - Logging de accesos
   - AuditorÃ­a de cambios

3. GESTIÃ“N DE SESIONES:
   - Timeout: 30 minutos de inactividad
   - RenovaciÃ³n: AutomÃ¡tica cada 15 minutos
   - Cierre: AutomÃ¡tico al finalizar
   - Monitoreo: Continuo de sesiones activas</code></pre>
<h3 id="cifrado-y-integridad"><strong>4.2 CIFRADO Y
INTEGRIDAD</strong></h3>
<h4 id="cifrado-de-datos"><strong>4.2.1 CIFRADO DE DATOS</strong></h4>
<pre><code>CIFRADO DE DATOS:

1. ALGORITMO DE CIFRADO:
   - Algoritmo: AES-256-GCM
   - Modo: Galois/Counter Mode (GCM)
   - Longitud de clave: 256 bits
   - Vector de inicializaciÃ³n: 96 bits
   - Tag de autenticaciÃ³n: 128 bits

2. GESTIÃ“N DE CLAVES:
   - GeneraciÃ³n: HSM (Hardware Security Module)
   - DistribuciÃ³n: Protocolo seguro
   - RotaciÃ³n: Cada 24 horas
   - Almacenamiento: HSM cifrado
   - Backup: Redundante y cifrado

3. IMPLEMENTACIÃ“N:
   - Hardware: AceleraciÃ³n por CPU
   - Software: OpenSSL 3.0
   - ValidaciÃ³n: FIPS 140-2 Level 3
   - Rendimiento: &lt; 1ms por mensaje</code></pre>
<h4 id="integridad-de-datos"><strong>4.2.2 INTEGRIDAD DE
DATOS</strong></h4>
<pre><code>INTEGRIDAD DE DATOS:

1. ALGORITMO DE INTEGRIDAD:
   - Hash: SHA-256
   - HMAC: HMAC-SHA256
   - Checksum: CRC32
   - Firma: RSA-2048

2. VALIDACIÃ“N DE INTEGRIDAD:
   - Checksum: ValidaciÃ³n rÃ¡pida
   - CRC32: DetecciÃ³n de errores
   - HMAC: AutenticaciÃ³n de mensaje
   - Firma digital: No repudio

3. PROTECCIÃ“N CONTRA ATAQUES:
   - Replay attacks: Timestamp y nonce
   - Man-in-the-middle: Certificados mutuos
   - Tampering: MÃºltiples validaciones
   - Denial of service: Rate limiting</code></pre>
<hr />
<h2 id="especificaciones-tÃ©cnicas">ğŸ“Š <strong>ESPECIFICACIONES
TÃ‰CNICAS</strong></h2>
<h3 id="especificaciones-de-red"><strong>5.1 ESPECIFICACIONES DE
RED</strong></h3>
<h4 id="configuraciÃ³n-de-red"><strong>5.1.1 CONFIGURACIÃ“N DE
RED</strong></h4>
<pre><code>CONFIGURACIÃ“N DE RED:

1. TOPOLOGÃA:
   - Tipo: Red Ethernet redundante
   - Protocolo: TCP/IP
   - Velocidad: 1 Gbps
   - Latencia: &lt; 10 ms
   - Jitter: &lt; 1 ms

2. DIRECCIONAMIENTO:
   - CTC: 192.168.100.10/24
   - RBC: 192.168.100.20/24
   - Gateway: 192.168.100.1/24
   - DNS: 192.168.100.2/24

3. REDUNDANCIA:
   - Enlaces: 2 enlaces redundantes
   - Switches: 2 switches en stack
   - ConmutaciÃ³n: AutomÃ¡tica &lt; 1 segundo
   - Monitoreo: Continuo de enlaces</code></pre>
<h4 id="protocolo-tcpip"><strong>5.1.2 PROTOCOLO TCP/IP</strong></h4>
<pre><code>CONFIGURACIÃ“N TCP/IP:

1. PARÃMETROS TCP:
   - Puerto: 50000 (configurable)
   - Buffer size: 64 KB
   - Keep-alive: 60 segundos
   - Timeout: 30 segundos
   - RetransmisiÃ³n: 3 intentos

2. PARÃMETROS IP:
   - TTL: 64
   - TOS: 0x10 (precedencia)
   - FragmentaciÃ³n: Deshabilitada
   - ICMP: Habilitado para diagnÃ³stico

3. OPTIMIZACIÃ“N:
   - TCP_NODELAY: Habilitado
   - SO_KEEPALIVE: Habilitado
   - SO_REUSEADDR: Habilitado
   - Buffer tuning: Optimizado</code></pre>
<h3 id="especificaciones-de-rendimiento"><strong>5.2 ESPECIFICACIONES DE
RENDIMIENTO</strong></h3>
<h4 id="mÃ©tricas-de-rendimiento"><strong>5.2.1 MÃ‰TRICAS DE
RENDIMIENTO</strong></h4>
<pre><code>MÃ‰TRICAS DE RENDIMIENTO:

1. LATENCIA:
   - Objetivo: &lt; 100 ms
   - MediciÃ³n: Tiempo de ida y vuelta
   - Frecuencia: Cada mensaje
   - Alerta: &gt; 200 ms

2. THROUGHPUT:
   - Objetivo: &gt; 1000 mensajes/segundo
   - MediciÃ³n: Mensajes por segundo
   - Frecuencia: Cada minuto
   - Alerta: &lt; 500 mensajes/segundo

3. DISPONIBILIDAD:
   - Objetivo: &gt; 99.9%
   - MediciÃ³n: Uptime/tiempo total
   - Frecuencia: Diaria
   - Alerta: &lt; 99.5%

4. ERROR RATE:
   - Objetivo: &lt; 0.1%
   - MediciÃ³n: Errores/mensajes totales
   - Frecuencia: Cada hora
   - Alerta: &gt; 0.5%</code></pre>
<h4 id="optimizaciÃ³n-de-rendimiento"><strong>5.2.2 OPTIMIZACIÃ“N DE
RENDIMIENTO</strong></h4>
<pre><code>OPTIMIZACIÃ“N DE RENDIMIENTO:

1. BUFFER MANAGEMENT:
   - Buffer size: 64 KB
   - Pool de buffers: 100 buffers
   - ReutilizaciÃ³n: AutomÃ¡tica
   - Limpieza: PeriÃ³dica

2. THREADING:
   - Threads de red: 4 threads
   - Threads de procesamiento: 8 threads
   - Thread pool: DinÃ¡mico
   - Prioridad: SCHED_FIFO

3. MEMORY MANAGEMENT:
   - Memory pool: Pre-allocated
   - Garbage collection: Manual
   - Memory mapping: mmap()
   - Cache: LRU algorithm</code></pre>
<hr />
<h2 id="plan-de-implementaciÃ³n">ğŸ”§ <strong>PLAN DE
IMPLEMENTACIÃ“N</strong></h2>
<h3 id="fases-de-desarrollo"><strong>6.1 FASES DE
DESARROLLO</strong></h3>
<h4 id="fase-1-especificaciÃ³n-2-semanas"><strong>6.1.1 FASE 1:
ESPECIFICACIÃ“N (2 semanas)</strong></h4>
<pre><code>TAREA                    RESPONSABLE           PLAZO
EspecificaciÃ³n protocolo Ing. IntegraciÃ³n     1 semana
EspecificaciÃ³n seguridad Ing. Seguridad       1 semana
EspecificaciÃ³n red       Ing. Redes           1 semana</code></pre>
<h4 id="fase-2-diseÃ±o-3-semanas"><strong>6.1.2 FASE 2: DISEÃ‘O (3
semanas)</strong></h4>
<pre><code>TAREA                    RESPONSABLE           PLAZO
DiseÃ±o software          Ing. Software        2 semanas
DiseÃ±o hardware          Ing. Hardware        1 semana
DiseÃ±o de pruebas        Ing. Calidad         1 semana</code></pre>
<h4 id="fase-3-implementaciÃ³n-6-semanas"><strong>6.1.3 FASE 3:
IMPLEMENTACIÃ“N (6 semanas)</strong></h4>
<pre><code>TAREA                    RESPONSABLE           PLAZO
Desarrollo software      Proveedor SW         4 semanas
IntegraciÃ³n hardware     Proveedor HW         2 semanas
IntegraciÃ³n sistemas     Ing. IntegraciÃ³n     2 semanas</code></pre>
<h3 id="cronograma-crÃ­tico"><strong>6.2 CRONOGRAMA CRÃTICO</strong></h3>
<pre><code>SEMANA 1-2:  EspecificaciÃ³n detallada
SEMANA 3-5:  DiseÃ±o arquitectural
SEMANA 6-11: ImplementaciÃ³n
SEMANA 12-14: Pruebas FAT
SEMANA 15-17: Pruebas SAT
SEMANA 18-19: Puesta en servicio</code></pre>
<hr />
<h2 id="mÃ©tricas-y-monitoreo">ğŸ“Š <strong>MÃ‰TRICAS Y
MONITOREO</strong></h2>
<h3 id="mÃ©tricas-de-comunicaciÃ³n"><strong>7.1 MÃ‰TRICAS DE
COMUNICACIÃ“N</strong></h3>
<table>
<thead>
<tr>
<th style="text-align: left;">MÃ©trica</th>
<th style="text-align: center;">Objetivo</th>
<th style="text-align: center;">MediciÃ³n</th>
<th style="text-align: center;">Frecuencia</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Latencia</strong></td>
<td style="text-align: center;">â‰¤ 100ms</td>
<td style="text-align: center;">Tiempo ida y vuelta</td>
<td style="text-align: center;">Por mensaje</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Throughput</strong></td>
<td style="text-align: center;">â‰¥ 1000 msg/s</td>
<td style="text-align: center;">Mensajes por segundo</td>
<td style="text-align: center;">Cada minuto</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Disponibilidad</strong></td>
<td style="text-align: center;">â‰¥ 99.9%</td>
<td style="text-align: center;">Uptime/Tiempo total</td>
<td style="text-align: center;">Diaria</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Error rate</strong></td>
<td style="text-align: center;">â‰¤ 0.1%</td>
<td style="text-align: center;">Errores/Mensajes totales</td>
<td style="text-align: center;">Cada hora</td>
</tr>
</tbody>
</table>
<h3 id="mÃ©tricas-de-seguridad"><strong>7.2 MÃ‰TRICAS DE
SEGURIDAD</strong></h3>
<table>
<thead>
<tr>
<th style="text-align: left;">MÃ©trica</th>
<th style="text-align: center;">Objetivo</th>
<th style="text-align: center;">MediciÃ³n</th>
<th style="text-align: center;">Frecuencia</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>AutenticaciÃ³n</strong></td>
<td style="text-align: center;">100%</td>
<td style="text-align: center;">Intentos exitosos</td>
<td style="text-align: center;">Cada hora</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Cifrado</strong></td>
<td style="text-align: center;">100%</td>
<td style="text-align: center;">Mensajes cifrados</td>
<td style="text-align: center;">Cada hora</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Integridad</strong></td>
<td style="text-align: center;">100%</td>
<td style="text-align: center;">Validaciones exitosas</td>
<td style="text-align: center;">Cada hora</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Certificados</strong></td>
<td style="text-align: center;">100%</td>
<td style="text-align: center;">Certificados vÃ¡lidos</td>
<td style="text-align: center;">Diaria</td>
</tr>
</tbody>
</table>
<h3 id="sistema-de-monitoreo"><strong>7.3 SISTEMA DE
MONITOREO</strong></h3>
<h4 id="herramientas-de-monitoreo"><strong>7.3.1 HERRAMIENTAS DE
MONITOREO</strong></h4>
<pre><code>HERRAMIENTAS IMPLEMENTADAS:

1. PROMETHEUS + GRAFANA:
   - MÃ©tricas de rendimiento
   - Dashboards personalizados
   - Alertas automÃ¡ticas
   - AnÃ¡lisis de tendencias

2. ELK STACK:
   - Logging centralizado
   - AnÃ¡lisis de logs
   - BÃºsqueda avanzada
   - CorrelaciÃ³n de eventos

3. ZABBIX:
   - Monitoreo de infraestructura
   - Alertas de hardware
   - Monitoreo de red
   - Disponibilidad de servicios</code></pre>
<h4 id="alertas-crÃ­ticas"><strong>7.3.2 ALERTAS CRÃTICAS</strong></h4>
<pre><code>CONFIGURACIÃ“N DE ALERTAS:

CRÃTICAS (INMEDIATAS):
- PÃ©rdida de comunicaciÃ³n
- Fallo de autenticaciÃ³n
- Error de cifrado
- PÃ©rdida de integridad

ALTAS (5 MINUTOS):
- Latencia &gt; 200ms
- Throughput &lt; 500 msg/s
- Error rate &gt; 0.5%
- Disponibilidad &lt; 99.5%

MEDIAS (15 MINUTOS):
- Uso CPU &gt; 80%
- Uso memoria &gt; 85%
- Conexiones &gt; 90%
- Buffer usage &gt; 90%</code></pre>
<hr />
<h2 id="control-de-versiones">ğŸ“‹ <strong>CONTROL DE
VERSIONES</strong></h2>
<table>
<colgroup>
<col style="width: 27%" />
<col style="width: 27%" />
<col style="width: 22%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;">VersiÃ³n</th>
<th style="text-align: center;">Fecha</th>
<th style="text-align: left;">Responsable</th>
<th style="text-align: left;">DescripciÃ³n</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>v1.1</strong></td>
<td style="text-align: center;">27/01/2025</td>
<td style="text-align: left;">Ing. IntegraciÃ³n EPC</td>
<td style="text-align: left;"><strong>Interfaces CTC-ITCS FFFIS</strong>
- Fase 1 crÃ­tica en desarrollo</td>
</tr>
<tr>
<td style="text-align: center;"><strong>v1.0</strong></td>
<td style="text-align: center;">27/01/2025</td>
<td style="text-align: left;">Ing. IntegraciÃ³n EPC</td>
<td style="text-align: left;"><strong>Interfaces CTC-ITCS
inicial</strong> - Protocolo FFFIS especificado</td>
</tr>
<tr>
<td style="text-align: center;"><strong>v0.1</strong></td>
<td style="text-align: center;">27/01/2025</td>
<td style="text-align: left;">Admin. Contractual EPC</td>
<td style="text-align: left;"><strong>Especificaciones
provisionales</strong> - Desarrollo inicial</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="conclusiones-y-prÃ³ximos-pasos">âœ… <strong>CONCLUSIONES Y
PRÃ“XIMOS PASOS</strong></h2>
<h3 id="estado-actual"><strong>ğŸ¯ ESTADO ACTUAL</strong></h3>
<ul>
<li>âœ… <strong>Interfaces CTC-ITCS especificadas</strong> con protocolo
FFFIS</li>
<li>âœ… <strong>Protocolo de comunicaciÃ³n detallado</strong> con
seguridad completa</li>
<li>âœ… <strong>Especificaciones tÃ©cnicas</strong> de red y
rendimiento</li>
<li>âœ… <strong>Plan de implementaciÃ³n</strong> con cronograma de 19
semanas</li>
</ul>
<h3 id="prÃ³ximos-pasos-inmediatos"><strong>ğŸ”„ PRÃ“XIMOS PASOS
INMEDIATOS</strong></h3>
<ol type="1">
<li><strong>ValidaciÃ³n tÃ©cnica</strong> de las interfaces con
especialistas</li>
<li><strong>Desarrollo de especificaciones detalladas</strong> de
software</li>
<li><strong>Plan de pruebas</strong> para validar comunicaciÃ³n</li>
<li><strong>ImplementaciÃ³n de seguridad</strong> y cifrado</li>
</ol>
<h3 id="contactos"><strong>ğŸ“ CONTACTOS</strong></h3>
<ul>
<li><strong>Responsable TÃ©cnico:</strong> Ing. IntegraciÃ³n EPC</li>
<li><strong>Especialista Senior:</strong> Control de Trenes</li>
<li><strong>RevisiÃ³n:</strong> Cada 2 semanas durante desarrollo</li>
</ul>
<hr />
<p><strong>Documento desarrollado segÃºn estÃ¡ndares CENELEC EN 50159 y
UIC 438</strong><br />
<strong>Fecha:</strong> 27 de Enero, 2025<br />
<strong>Estado:</strong> ğŸ”„ <strong>EN DESARROLLO - FASE 1
CRÃTICA</strong><br />
<strong>PrÃ³xima actualizaciÃ³n:</strong> 3 de Febrero, 2025</p>
</body>
</html>
