# DOCUMENTO DE CONTROL DE INTERFACES (ICD) v1.0
## APP La Dorada - Chiriguaná

---

## 1. OBJETIVO Y ALCANCE

### 1.1 Objetivo
El objetivo de este documento es definir, controlar y gestionar todas las interfaces (físicas, lógicas, de datos y operativas) entre los diferentes subsistemas del proyecto. Este ICD es la única fuente de verdad para la integración de sistemas, asegurando la compatibilidad y la coherencia técnica durante todo el ciclo de vida del proyecto.

### 1.2 Alcance
Este documento cubre las interfaces entre todos los sistemas definidos en la WBS, incluyendo pero no limitándose a:
- **Sistemas de Control:** CTC, Señalización, Enclavamientos.
- **Sistemas de Telecomunicaciones:** Fibra Óptica, Radio TETRA, Red de Datos.
- **Sistemas de Seguridad:** CCTV, Control de Accesos.
- **Material Rodante:** Equipos embarcados (ITCS, Radio).
- **Sistemas de Energía:** Alimentación principal y de respaldo (UPS).

### 1.3 ⚠️ EVALUACIÓN DE DEPENDENCIAS DOCUMENTALES
- **Depende de:**
    - `38. DiagramasArquitectura...md`: Proporciona la visión de alto nivel de las interconexiones.
    - `37. MemoriasDiseño_Basico...md`: Justifica las tecnologías y protocolos a ser utilizados en las interfaces.
- **Gobierna a:**
    - `42. Plan_Pruebas...md`: Las pruebas de integración (SIT) deben validar el correcto funcionamiento de cada interfaz definida aquí.
    - `V. Ingenieria de detalle`: Todos los diseños detallados deben implementar las interfaces conforme a lo especificado en este ICD.

---

## 2. MATRIZ DE INTERFACES DE ALTO NIVEL

| ID Interfaz | Sistema A | Sistema B | Tipo de Interfaz | Protocolo / Estándar | Responsable de Interfaz | Estado |
|:---|:---|:---|:---|:---|:---|:---|
| **IF-01** | CTC | Enclavamiento | Datos / Control | SCI-CC-A (NAS 830) | Líder de Señalización | ⏳ **Definida** |
| **IF-02** | CTC | ITCS (Material Rodante) | Datos / Control | ETCS Nivel 2 (Supuesto) | Líder de Material Rodante | 🔴 **Bloqueada (AT3)** |
| **IF-03** | Estación Base TETRA | Backbone Fibra Óptica | Física / Lógica | IP/MPLS | Líder de Telecom | ⏳ **Definida** |
| **IF-04** | Cámara CCTV | Red de Datos | Física / Datos | ONVIF sobre IP | Líder de Seguridad | ⏳ **Definida** |
| **IF-05** | Enclavamiento | Sistema de Energía | Física | 24V DC Redundante | Líder de Señalización | ⏳ **Definida** |
| **IF-06** | CTC | CTC FENOCO | Datos / Operativa | EULYNX (Propuesto) | Líder de Integración | 🟡 **Por Validar** |
| **IF-07** | CTC | Bloque Integración Multi-sistema | Lógica / Datos | UIC 918-4, IEC 62443 | Líder de Integración | ✅ **Especificado (DT-INTERFACES-001)** |

---

## 3. ESPECIFICACIÓN DE INTERFACES CRÍTICAS

### 3.1 Interfaz IF-01: CTC ↔ Enclavamiento
- **Descripción:** Interfaz para el envío de comandos de ruta desde el CTC y la recepción del estado de los elementos de señalización en campo.
- **Medio Físico:** Conexión Ethernet a través de la red de Fibra Óptica.
- **Protocolo Lógico:** SCI-CC-A (NAS 830) sobre TCP/IP.
- **Formato de Datos:** Mensajería binaria según especificación ADIF.
- **Requisitos de Rendimiento:** Latencia máxima end-to-end < 100 ms.
- **Requisitos de Disponibilidad:** 99.99% (requiere redundancia de enlace y de procesadores en el enclavamiento).

### 3.2 Interfaz IF-02: CTC ↔ ITCS (Material Rodante)
- **Descripción:** Interfaz para el envío de Autorizaciones de Movimiento (MA) y la recepción de la posición exacta del tren.
- **Medio Físico:** Red de Radio TETRA (canal de datos) y/o GSM-R.
- **Protocolo Lógico:** **(Supuesto Técnico)** Se asume ETCS Nivel 2. La definición final está bloqueada por el Apéndice Técnico 3.
- **Riesgo Asociado:** **R-TEC-001**. La indefinición del estándar ITCS es un riesgo crítico. Se diseña una interfaz modular para mitigar el impacto.

### 3.3 Interfaz IF-07: CTC ↔ Bloque Lógico de Integración Multi-sistema ⭐ **NUEVO (DT-INTERFACES-001)**
- **Descripción:** Bloque lógico de integración que NO es hardware físico único, sino un conjunto funcional que conecta el CTC con múltiples subsistemas.
- **Ítem WBS:** 1.1.106 - Interfaces comunicación ($150.000.000 COP)
- **Composición del Bloque:**
  - **Gateways industriales:** Conversión de protocolos CTC ↔ ITCS/ETCS L2 ↔ FENOCO
  - **Switches de borde ferroviario:** Segmentación de red para subsistemas
  - **Firewalls IEC 62443:** Ciberseguridad industrial (nivel SL-3)
  - **Middleware interoperabilidad:** Protocolo UIC 918-4 para FENOCO
  - **Licencias software comunicación:** SCADA, gestión de interfaces
- **Interfaces que soporta:**
  - CTC ↔ ITCS/ETCS Nivel 2 (intercambio telegramas, datos ocupación vía RBC)
  - CTC ↔ FENOCO (Gateway UIC, protocolo 918-4)
  - CTC ↔ TETRA (canal voz/datos comunicaciones tren-tierra)
  - CTC ↔ Fibra Óptica (backbone redundante N+1 del corredor)
  - CTC ↔ Sistemas ITS (CCTV, acceso, detección intrusión)
- **Arquitectura:** Redundancia N+1 en comunicaciones críticas
- **Alcance $150M incluye:**
  - Licencias integración (protocolos, middleware)
  - Configuración interfaces y redundancia N+1
  - Ensayos FAT/SAT interoperabilidad
  - Integración en entorno virtual (CTC virtual + ETCS L2)
- **NOTA IMPORTANTE:** Equipos físicos mayores cubiertos en ítems 1.1.100-1.1.105
- **Decisión Técnica:** DT-INTERFACES-001-2025-10-09
- **Riesgos Mitigados:**
  - R-INT-001: Falta de trazabilidad en integración de sistemas ✅ MITIGADO
  - R-INT-002: Ambigüedad en alcance de interfaces ✅ MITIGADO

---

## 4. GOBERNANZA Y PROCESO DE GESTIÓN DE INTERFACES

### 4.1 Interface Control Working Group (ICWG)
Se establece un comité de control de interfaces (ICWG) conformado por los líderes técnicos de cada disciplina (Señalización, Telecom, Energía, etc.) y presidido por el Arquitecto de Sistemas del EPC. Su función es revisar y aprobar cualquier cambio en las interfaces.

### 4.2 Proceso de Control de Cambios (Interface Change Request - ICR)
Cualquier cambio propuesto a una interfaz definida en este ICD debe seguir un proceso formal:
1.  **Solicitud (ICR):** El líder de sistema que propone el cambio completa un formato de ICR, detallando la justificación técnica y el impacto en otros sistemas.
2.  **Revisión (ICWG):** El ICWG revisa la solicitud en su reunión semanal.
3.  **Aprobación/Rechazo:** La decisión se documenta y se comunica a todos los equipos.
4.  **Actualización del ICD:** Si se aprueba, este documento se actualiza a una nueva versión y se redistribuye.

---

## 5. ⚠️ RIESGOS ASOCIADOS A LA GESTIÓN DE INTERFACES

| ID Riesgo | Riesgo | Probabilidad | Impacto | Plan de Mitigación |
|:---|:---|:---:|:---:|:---|
| **R-GES-003** | **Desalineación en Interfaces:** Cambios no comunicados que generan incompatibilidad en la integración. | **Alta** | **Crítico** | Implementación estricta del proceso de ICR y el ICWG. Ningún cambio es válido sin un ICR aprobado. |
| **R-TEC-010** | **Incompatibilidad de Protocolos:** Sistemas de diferentes proveedores no logran comunicarse. | **Media** | **Alto** | Priorizar estándares abiertos (IP, ONVIF, etc.). Realizar pruebas de concepto (PoC) en laboratorio antes de la compra. |
| **R-TEC-011** | **Degradación de Rendimiento:** Interfaces mal diseñadas que crean cuellos de botella y afectan la operación. | **Media** | **Medio** | Incluir requisitos de rendimiento (latencia, ancho de banda) en cada especificación de interfaz y validarlos en las pruebas SIT. |

---

## 6. CONCLUSIONES

Este Documento de Control de Interfaces (ICD) es la piedra angular para la integración exitosa del proyecto. Su estricto cumplimiento y el proceso de gobernanza asociado son mandatorios para todos los equipos de ingeniería del EPC.

---

**Estado del documento:** ✅ **Completado**
**Versión:** 1.0
**Responsable:** Arquitecto de Sistemas EPC
**Fecha de Cierre:** 19 de septiembre de 2025