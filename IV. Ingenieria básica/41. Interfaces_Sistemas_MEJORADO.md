# DOCUMENTO DE CONTROL DE INTERFACES (ICD) v7.0 - PHASE 7
**ESTADO: ✅ APROBADO (PHASE 7)**
## APP La Dorada - Chiriguaná

---

## 1. OBJETIVO Y ALCANCE

### 1.1 Objetivo
El objetivo de este documento es definir, controlar y gestionar todas las interfaces (físicas, lógicas, de datos y operativas) entre los diferentes subsistemas del proyecto. Este ICD es la única fuente de verdad para la integración de sistemas, asegurando la compatibilidad y la coherencia técnica durante todo el ciclo de vida del proyecto.

### 1.2 Alcance
Este documento cubre las interfaces entre todos los sistemas definidos en la WBS, incluyendo pero no limitándose a:
- **Sistemas de Control:** CTC, Señalización, Enclavamientos.
- **Sistemas de Telecomunicaciones:** Fibra Óptica, Radio TETRA, Red de Datos.
- **Sistemas de Seguridad:** CCTV, Control de Accesos.
- **Material Rodante:** Equipos embarcados (ITCS, Radio).
- **Sistemas de Energía:** Alimentación principal y de respaldo (UPS).

### 1.3 ⚠️ EVALUACIÓN DE DEPENDENCIAS DOCUMENTALES
- **Depende de:**
    - `38. DiagramasArquitectura...md`: Proporciona la visión de alto nivel de las interconexiones.
    - `37. MemoriasDiseño_Basico...md`: Justifica las tecnologías y protocolos a ser utilizados en las interfaces.
- **Gobierna a:**
    - `42. Plan_Pruebas...md`: Las pruebas de integración (SIT) deben validar el correcto funcionamiento de cada interfaz definida aquí.
    - `V. Ingenieria de detalle`: Todos los diseños detallados deben implementar las interfaces conforme a lo especificado en este ICD.

---

## 2. MATRIZ DE INTERFACES DE ALTO NIVEL

| ID Interfaz | Sistema A | Sistema B | Tipo de Interfaz | Protocolo / Estándar Propuesto | Responsable | Estado |
|:---|:---|:---|:---|:---|:---|:---|
| **IF-01** | CTC | Enclavamiento | Datos / Control | Basado en SCI-CC-A (Benchmark) | Líder Señalización | 🔍 En Diseño |
| **IF-02** | CTC | ITCS (Material Rodante) | Datos / Control | Escenario de Referencia: ETCS L2 | Líder Mat. Rodante | 🔴 Bloqueo AT3 |
| **IF-03** | Estación Base | Backbone FO | Física / Lógica | IP/MPLS | Líder Telecom | ⏳ Definida |
| **IF-04** | Cámara CCTV | Red de Datos | Física / Datos | ONVIF sobre IP | Líder Seguridad | ⏳ Definida |
| **IF-05** | Enclavamiento | Sistema de Energía | Física | 24V DC Redundante | Líder Señalización | ⏳ Definida |
| **IF-06** | CTC | CTC FENOCO | Datos / Operativa | Basado en EULYNX (Benchmark) | Líder Integración | 🟡 Por Validar |
| **IF-07** | CTC | Bloque Integración | Lógica / Datos | Basado en UIC 918-4 (Benchmark) | Líder Integración | ✅ Especificado |

---

## 3. ESPECIFICACIÓN DE INTERFACES CRÍTICAS

### 3.1 Interfaz IF-01: CTC ↔ Enclavamiento
- **Descripción:** Interfaz para el envío de comandos de ruta desde el CTC y la recepción del estado de los elementos de señalización en campo.
- **Medio Físico:** Conexión Ethernet a través de la red de Fibra Óptica.
- **Protocolo Lógico:** SCI-CC-A (NAS 830) sobre TCP/IP.
- **Formato de Datos:** Mensajería binaria según especificación ADIF.
- **Requisitos de Rendimiento:** Latencia máxima end-to-end < 100 ms.
- **Requisitos de Disponibilidad:** 99.5% (requiere redundancia de enlace y de procesadores en el enclavamiento).

### 3.2 Interfaz IF-02: CTC ↔ ITCS (Material Rodante)
- **Descripción:** Interfaz para el envío de Autorizaciones de Movimiento (MA) y la recepción de la posición exacta del tren.
- **Medio Físico:** Red de Radio TETRA (canal de datos) y/o TETRA.
- **Protocolo Lógico:** **(Supuesto Técnico)** Se asume ETCS Nivel 2. La definición final está bloqueada por el Apéndice Técnico 3.
- **Riesgo Asociado:** **R-TEC-001**. La indefinición del estándar ITCS es un riesgo crítico. Se diseña una interfaz modular para mitigar el impacto.

### 3.3 Interfaz IF-07: Bloque Funcional de Integración (Propuesta de Ingeniería)
- **Descripción:** Conjunto de elementos lógicos y gateways que permiten la interoperabilidad entre subsistemas con diferentes orígenes tecnológicos.
- **Alcance Funcional:**
  - **Conversión de Protocolos:** Gateway para traducción de tramas CTC ↔ ITCS ↔ FENOCO.
  - **Seguridad de Borde:** Segmentación de red y firewalls según lineamientos IEC 62443.
  - **Capa Intermedia (Middleware):** Gestión de interoperabilidad basada en estándares internacionales.
- **Interfaces Proyectadas:**
  - CTC ↔ ITCS (Intercambio de telegramas y datos de ocupación).
  - CTC ↔ FENOCO (Protocolo compatible con gestor de red externo).
  - CTC ↔ TETRA/TETRA (Convergencia voz/datos).
- **Nota sobre Implementación:** Los modelos de hardware y licenciamiento definitivo se determinarán tras la aprobación de la Ingeniería de Detalle (Fase T05) y la definición de especificaciones en AT3.

---

## 4. GOBERNANZA Y PROCESO DE GESTIÓN DE INTERFACES

### 4.1 Interface Control Working Group (ICWG)
Se establece un comité de control de interfaces (ICWG) conformado por los líderes técnicos de cada disciplina (Señalización, Telecom, Energía, etc.) y presidido por el Arquitecto de Sistemas del EPC. Su función es revisar y aprobar cualquier cambio en las interfaces.

### 4.2 Proceso de Control de Cambios (Interface Change Request - ICR)
Cualquier cambio propuesto a una interfaz definida en este ICD debe seguir un proceso formal:
1.  **Solicitud (ICR):** El líder de sistema que propone el cambio completa un formato de ICR, detallando la justificación técnica y el impacto en otros sistemas.
2.  **Revisión (ICWG):** El ICWG revisa la solicitud en su reunión semanal.
3.  **Aprobación/Rechazo:** La decisión se documenta y se comunica a todos los equipos.
4.  **Actualización del ICD:** Si se aprueba, este documento se actualiza a una nueva versión y se redistribuye.

---

## 5. ⚠️ RIESGOS ASOCIADOS A LA GESTIÓN DE INTERFACES

| ID Riesgo | Riesgo | Probabilidad | Impacto | Plan de Mitigación |
|:---|:---|:---:|:---:|:---|
| **R-GES-003** | **Desalineación en Interfaces:** Cambios no comunicados que generan incompatibilidad en la integración. | **Alta** | **Crítico** | Implementación estricta del proceso de ICR y el ICWG. Ningún cambio es válido sin un ICR aprobado. |
| **R-TEC-010** | **Incompatibilidad de Protocolos:** Sistemas de diferentes proveedores no logran comunicarse. | **Media** | **Alto** | Priorizar estándares abiertos (IP, ONVIF, etc.). Realizar pruebas de concepto (PoC) en laboratorio antes de la compra. |
| **R-TEC-011** | **Degradación de Rendimiento:** Interfaces mal diseñadas que crean cuellos de botella y afectan la operación. | **Media** | **Medio** | Incluir requisitos de rendimiento (latencia, ancho de banda) en cada especificación de interfaz y validarlos en las pruebas SIT. |

---

## 6. CONCLUSIONES

Este Documento de Control de Interfaces (ICD) es la piedra angular para la integración exitosa del proyecto. Su estricto cumplimiento y el proceso de gobernanza asociado son mandatorios para todos los equipos de ingeniería del EPC.

---

**Estado del documento:** ⚠️ EN RE-LINEACIÓN
**Responsable:** Arquitecto de Sistemas EPC