# üöÄ PLAN DE IMPLEMENTACI√ìN: SISTEMA INTEGRADO COMPLETO
**Proyecto:** APP La Dorada-Chiriguan√°  
**Fecha:** 8 de Octubre de 2025  
**Objetivo:** DT ‚Üí TODO (100% Autom√°tico)  

---

## üéØ OBJETIVO FINAL

**Cuando un especialista propone un cambio t√©cnico:**
1. Se crea un DT con justificaci√≥n completa
2. Cursor ejecuta el DT autom√°ticamente
3. Se actualizan **7 NIVELES** de documentaci√≥n:
   - WBS y Presupuesto
   - Reporte Gerencial (justificaciones)
   - EDT Detallado (criterios t√©cnicos)
   - Cronograma (duraciones)
   - Riesgos (exposici√≥n)
   - Ingenier√≠a de Detalle (V.X documentos)
   - Documentos Maestros (VIII/)
4. La Carpeta X/ se consolida desde la "cocina" aprobada

---

## üìã ESTADO ACTUAL: MATRIZ DE IMPLEMENTACI√ìN

| Nivel | Componente | Estado | ¬øActualiza con DT? | Falta |
|:------|:-----------|:------:|:------------------:|:------|
| **1** | WBS Presupuesto | ‚úÖ Implementado | ‚úÖ S√≠ | Nada |
| **2** | Reporte Gerencial | ‚ö†Ô∏è Parcial | ‚ö†Ô∏è Parcial | JSON justificaciones |
| **3** | EDT Detallado | ‚úÖ Implementado | ‚úÖ S√≠ | Expandir metadata |
| **4** | Cronograma | ‚ùå Hardcoded | ‚ùå No | JSON + HTML din√°mico |
| **5** | Riesgos | ‚ùå Hardcoded | ‚ùå No | JSON vinculado + HTML |
| **6** | Ing. Detalle (V.X) | ‚ùå Manual | ‚ùå No | YAML + Script |
| **7** | Docs Maestros (VIII/) | ‚ö†Ô∏è Manual | ‚ö†Ô∏è Parcial | Automatizar en .cursorrules |

---

## üèóÔ∏è ARQUITECTURA NECESARIA

### **ARCHIVOS JSON NUEVOS A CREAR:**

```
IX. WBS y Planificacion/
‚îú‚îÄ‚îÄ datos_wbs_TODOS_items.json ‚úÖ Existe
‚îú‚îÄ‚îÄ wbs_metadata_enriquecida.json ‚úÖ Existe
‚îú‚îÄ‚îÄ cronograma_datos.json ‚ùå CREAR
‚îú‚îÄ‚îÄ riesgos_wbs.json ‚ùå CREAR
‚îî‚îÄ‚îÄ reporte_gerencial_justificaciones.json ‚ùå CREAR
```

### **ESTRUCTURA DE ARCHIVOS JSON:**

#### **1. cronograma_datos.json:**
```json
{
  "proyecto": "APP La Dorada-Chiriguan√°",
  "fecha_base": "2025-01-15",
  "duracion_total_dias": 1470,
  "ruta_critica": ["2.3.101", "2.1.106", ...],
  "actividades": [
    {
      "codigo_wbs": "1.2.100",
      "actividad": "Adquisici√≥n y configuraci√≥n ATP embarcado",
      "cantidad": 8,
      "duracion_unitaria": 15,
      "duracion_total": 120,
      "inicio": "2025-01-15",
      "fin": "2025-05-14",
      "dependencias": ["1.2.101", "6.1.100"],
      "predecesoras": [],
      "tipo_relacion": "FS",
      "holgura": 0,
      "ruta_critica": false,
      "responsable": "Especialista Sistemas"
    }
  ]
}
```

#### **2. riesgos_wbs.json:**
```json
{
  "proyecto": "APP La Dorada-Chiriguan√°",
  "fecha_actualizacion": "2025-10-08",
  "total_riesgos": 15,
  "riesgos": [
    {
      "id": "R-ATP-001",
      "descripcion": "Disponibilidad de sistemas ATP embarcados",
      "categoria": "Suministro",
      "items_wbs_afectados": ["1.2.100", "1.2.101", "1.2.102", "6.1.100"],
      "probabilidad": "Media",
      "impacto": "Alto",
      "exposicion": 15,
      "estrategia": "Mitigar",
      "mitigacion": "Contratos marco con 2 proveedores certificados ETCS",
      "responsable": "PMO + Especialista Sistemas",
      "estado": "Activo",
      "origen": "DT-TETRA-001",
      "fecha_identificacion": "2025-10-07",
      "apendice_relacionado": "AT1 (Alcance)"
    }
  ]
}
```

#### **3. reporte_gerencial_justificaciones.json:**
```json
{
  "proyecto": "APP La Dorada-Chiriguan√°",
  "fecha_actualizacion": "2025-10-08",
  "justificaciones": [
    {
      "codigo_wbs": "1.2.100",
      "sistema": "Control y Se√±alizaci√≥n",
      "item": "Computadora ATP embarcada",
      "cantidad_actual": 8,
      "cantidad_anterior": 15,
      "justificacion_cantidad": "Alineaci√≥n con AT1: 5 locomotoras contractuales + 2 dise√±o/pruebas + 1 contingencia = 8 UND total",
      "criterio_tecnico": "Operaci√≥n simult√°nea m√°xima: 5 locomotoras seg√∫n AT1. Adicionales: 2 para dise√±o/pruebas + 1 contingencia.",
      "supuesto_principal": "Operaci√≥n ferroviaria NO requiere m√°s de 5 locomotoras simult√°neas",
      "riesgo_principal": "R-ATP-001 - Disponibilidad ATP (Mitigado con contratos marco)",
      "impacto_presupuestal": "-$840,000,000 COP (-47%)",
      "decision_tecnica_origen": "DT-TETRA-001",
      "fecha_aprobacion": "2025-10-07",
      "aprobador": "Especialista Sistemas + PMO",
      "referencias": ["AT1 ¬ß2.1", "V.2 CTC ¬ß3.2"]
    }
  ]
}
```

---

## üîÑ FLUJO DE ACTUALIZACI√ìN POR NIVEL

### **NIVEL 1: WBS Y PRESUPUESTO** ‚úÖ **FUNCIONA**

**Archivos afectados:**
- `WBS_Presupuestal_v2.0.md`
- `datos_wbs_TODOS_items.json`
- `wbs_presupuestal_datos.js`
- `WBS_Presupuesto_SCC_...html`

**C√≥mo funciona:**
1. Cursor actualiza `WBS_Presupuestal_v2.0.md`
2. Script `sincronizar_TODO_MEJORADO.ps1` genera JSON/JS
3. HTML se actualiza autom√°ticamente (carga din√°mica)

**Estado:** ‚úÖ Implementado

---

### **NIVEL 2: REPORTE GERENCIAL** ‚ö†Ô∏è **PARCIAL**

**Archivos afectados:**
- `reporte_gerencial_justificaciones.json` ‚ùå NO EXISTE
- `WBS_Reporte_Gerencial.html` ‚ö†Ô∏è Supuestos HARDCODED

**Qu√© falta:**
1. Crear `reporte_gerencial_justificaciones.json`
2. Modificar HTML para cargar justificaciones din√°micamente
3. Mostrar:
   - Justificaci√≥n de cantidades por √≠tem
   - Supuestos t√©cnicos y comerciales
   - Riesgos principales
   - Impacto presupuestal
   - Referencias a DTs

**Script a crear:** `sincronizar_reporte_gerencial.ps1`

**Tiempo:** 2-3 horas

---

### **NIVEL 3: EDT DETALLADO** ‚úÖ **FUNCIONA**

**Archivos afectados:**
- `wbs_metadata_enriquecida.json`
- `WBS_EDT_Detalle.html`

**C√≥mo funciona:**
1. DT agrega metadata t√©cnica a `wbs_metadata_enriquecida.json`:
   ```json
   {
     "codigo": "1.2.100",
     "justificacion_tecnica": "Alineaci√≥n con AT1...",
     "criterios_diseno": ["5+2+1", "Operaci√≥n simult√°nea 5 max"],
     "supuestos": ["No m√°s de 5 locomotoras simult√°neas"],
     "feedback_especialista": "Validado con operaciones FENOCO",
     "decision_tecnica_origen": "DT-TETRA-001"
   }
   ```

2. Script genera `wbs_metadata_enriquecida.js`

3. HTML muestra metadata completa al hacer clic en √≠tem

**Estado:** ‚úÖ Implementado (expandir a m√°s √≠tems)

**Qu√© falta:** Expandir de 12 √≠tems a 50-100 √≠tems cr√≠ticos

---

### **NIVEL 4: CRONOGRAMA** ‚ùå **FALTA IMPLEMENTAR**

**Archivos a crear/modificar:**
- `cronograma_datos.json` ‚ùå CREAR
- `cronograma_datos.js` (generado autom√°ticamente)
- `WBS_Cronograma_Propuesta.html` (modificar para carga din√°mica)

**Script a crear:** `sincronizar_cronograma.ps1`

**L√≥gica del script:**
```powershell
# 1. Leer datos_wbs_TODOS_items.json
# 2. Para cada √≠tem:
#    - Calcular duraci√≥n seg√∫n cantidad
#    - Ejemplo: ATP 8 UND √ó 15 d√≠as = 120 d√≠as
# 3. Identificar dependencias
# 4. Calcular ruta cr√≠tica
# 5. Generar cronograma_datos.json
# 6. Generar cronograma_datos.js
```

**Modificaci√≥n en HTML:**
```javascript
// Cargar datos din√°micamente
fetch('cronograma_datos.json?' + Date.now())
  .then(response => response.json())
  .then(data => {
    renderGantt(data.actividades);
    mostrarRutaCritica(data.ruta_critica);
  });
```

**Tiempo:** 2-3 horas

---

### **NIVEL 5: RIESGOS** ‚ùå **FALTA IMPLEMENTAR**

**Archivos a crear/modificar:**
- `riesgos_wbs.json` ‚ùå CREAR
- `riesgos_wbs.js` (generado autom√°ticamente)
- `WBS_Analisis_Riesgos.html` (modificar para carga din√°mica)

**Script a crear:** `sincronizar_riesgos_wbs.ps1`

**L√≥gica del script:**
```powershell
# 1. Leer MATRIZ_RIESGOS_PMO_AMPLIADA_v1.0.md
# 2. Leer datos_wbs_TODOS_items.json
# 3. Vincular riesgos con √≠tems WBS
# 4. Para cada riesgo:
#    - Identificar √≠tems afectados
#    - Calcular exposici√≥n (Prob √ó Impacto)
#    - Enlazar con DT origen (si existe)
# 5. Generar riesgos_wbs.json
# 6. Generar riesgos_wbs.js
```

**Modificaci√≥n en HTML:**
```javascript
// Cargar riesgos vinculados
fetch('riesgos_wbs.json?' + Date.now())
  .then(response => response.json())
  .then(data => {
    renderMatrizRiesgos(data.riesgos);
    vincularConWBS(data.riesgos);
  });

// Mostrar riesgos de un √≠tem espec√≠fico
function mostrarRiesgosPorItem(codigo) {
  const riesgos = riesgosData.filter(r => 
    r.items_wbs_afectados.includes(codigo)
  );
  return riesgos;
}
```

**Tiempo:** 2-3 horas

---

### **NIVEL 6: INGENIER√çA DE DETALLE (V.X)** ‚ùå **FALTA IMPLEMENTAR**

**Archivos afectados:**
- `V.1_Se√±alizacion_Ferroviaria_Detalle_vX.md`
- `V.2_CTC_Detalle_vX.md`
- `V.3_Sistemas_Comunicacion_Detalle_vX.md`
- `V.4_Sistemas_Potencia_Detalle_vX.md`
- `V.5_Sistemas_Seguridad_Detalle_vX.md`

**Qu√© falta:**

1. **Ampliar YAML en DT:**
```yaml
archivos_actualizar:
  - file: "V. Ingenieria de detalle/V.2_CTC_Detalle_v4.0.md"
    accion: "actualizar_seccion_y_versionar"
    seccion: "3.2 Arquitectura del Sistema ATP"
    cambios:
      - campo: "cantidad_atp"
        buscar: "15 unidades ATP embarcadas"
        reemplazar: "8 unidades ATP embarcadas (5 producci√≥n + 2 dise√±o/pruebas + 1 contingencia)"
      - campo: "justificacion"
        buscar: "una unidad por cada locomotora"
        reemplazar: "Alineaci√≥n con AT1: 5 locomotoras contractuales + 2 para dise√±o/pruebas + 1 contingencia"
    versionamiento:
      version_actual: "v4.0"
      version_nueva: "v4.1"
      razon: "DT-TETRA-001 - Ajuste cantidad ATP seg√∫n AT1"
      agregar_nota: |
        **Cambio aplicado:** DT-TETRA-001 (7 Oct 2025)
        **Justificaci√≥n:** Alineaci√≥n con AT1 (5 locomotoras)
        **Criterio t√©cnico:** 5 producci√≥n + 2 dise√±o/pruebas + 1 contingencia
        **Validado por:** Especialista Sistemas + PMO
```

2. **Crear script:** `actualizar_documentos_detalle.ps1`
```powershell
# Lee YAML de DT
# Busca archivo V.X especificado
# Encuentra secci√≥n indicada
# Aplica cambios
# Incrementa versi√≥n
# Agrega nota de origen
```

**Tiempo:** 2-3 horas

---

### **NIVEL 7: DOCUMENTOS MAESTROS (VIII/)** ‚ö†Ô∏è **PARCIAL**

**Archivos afectados:**
- `CRITERIOS_TECNICOS_MAESTRO_v1.0.md`
- `MATRIZ_TRAZABILIDAD_TECNICA_v1.0.md`
- `MATRIZ_DEPENDENCIAS_DOCUMENTALES_v1.0.md`
- `MATRIZ_RIESGOS_PMO_AMPLIADA_v1.0.md`

**Qu√© falta:**

1. **Ampliar YAML en DT:**
```yaml
documentos_maestros_actualizar:
  - file: "VIII. Documentos Maestros y Metodologia/CRITERIOS_TECNICOS_MAESTRO_v1.0.md"
    accion: "agregar_fila_tabla"
    tabla: "Criterios T√©cnicos Refinados"
    nueva_fila:
      sistema: "ATP Embarcado"
      criterio: "5+2+1 = 8 UND"
      cantidad: "8"
      especificacion: "5 producci√≥n + 2 dise√±o/pruebas + 1 contingencia"
      referencia: "AT1 ¬ß2.1"
  
  - file: "VIII. Documentos Maestros y Metodologia/MATRIZ_TRAZABILIDAD_TECNICA_v1.0.md"
    accion: "agregar_enlace"
    seccion: "Sistema Control y Se√±alizaci√≥n"
    enlace:
      dt: "DT-TETRA-001"
      documentos: ["V.2 CTC", "WBS 1.2.100", "AT1"]
      tipo: "Cambio cantidad"
  
  - file: "VIII. Documentos Maestros y Metodologia/Matrices_Dependencias/MATRIZ_DEPENDENCIAS_DOCUMENTALES_v1.0.md"
    accion: "agregar_fila"
    nueva_fila:
      componente: "ATP Embarcado"
      decision_tecnica: "DT-TETRA-001"
      archivos_afectados: "V.2 CTC, WBS 1.2.x, AT1"
      tipo_impacto: "Cantidad"
```

2. **Modificar:** `.cursorrules`
```markdown
### NIVEL 7: DOCUMENTOS MAESTROS (VIII/)

Cuando se ejecuta un DT:

1. CRITERIOS_TECNICOS_MAESTRO_v1.0.md:
   - Buscar tabla "Criterios T√©cnicos Refinados"
   - Agregar/actualizar fila seg√∫n YAML
   
2. MATRIZ_TRAZABILIDAD_TECNICA_v1.0.md:
   - Buscar secci√≥n del sistema
   - Agregar enlace DT ‚Üí Documentos
   
3. MATRIZ_DEPENDENCIAS_DOCUMENTALES_v1.0.md:
   - Buscar tabla principal
   - Agregar fila nueva seg√∫n YAML
```

**Tiempo:** 2-3 horas

---

## üìä FLUJO ESPEC√çFICO: EDT DETALLADO

### **PREGUNTA: "¬øC√≥mo actualizar justificaciones del EDT si en el DT justifico t√©cnicamente el por qu√©?"**

**RESPUESTA:**

El EDT Detallado (`WBS_EDT_Detalle.html`) ya est√° implementado para mostrar justificaciones t√©cnicas. **Lo que falta** es que el DT las agregue autom√°ticamente a `wbs_metadata_enriquecida.json`.

### **FLUJO ACTUAL (Funciona):**

```
1. DT-TETRA-001 contiene:
   - Justificaci√≥n: "Alineaci√≥n con AT1"
   - Criterio: "5+2+1"
   - Supuesto: "Operaci√≥n simult√°nea m√°xima 5"
        ‚Üì
2. Script agrega a wbs_metadata_enriquecida.json:
   {
     "codigo": "1.2.100",
     "justificacion_tecnica": "...",
     "criterios_diseno": ["5+2+1"],
     "supuestos": ["Operaci√≥n max 5"],
     "feedback_especialista": "Del chat/reuni√≥n",
     "decision_tecnica_origen": "DT-TETRA-001"
   }
        ‚Üì
3. WBS_EDT_Detalle.html muestra:
   ‚ñº 1. FIBRA √ìPTICA
     ‚ñº 1.2 ATP Embarcado
       ‚Ä¢ 1.2.100 - Computadora ATP embarcada
         [Clic aqu√≠ para ver detalles]
         
   Popup muestra:
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ DETALLE T√âCNICO: 1.2.100               ‚îÇ
   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
   ‚îÇ Justificaci√≥n T√©cnica:                 ‚îÇ
   ‚îÇ Alineaci√≥n con AT1: 5 locomotoras      ‚îÇ
   ‚îÇ contractuales + 2 dise√±o/pruebas + 1   ‚îÇ
   ‚îÇ contingencia = 8 UND total             ‚îÇ
   ‚îÇ                                        ‚îÇ
   ‚îÇ Criterios de Dise√±o:                   ‚îÇ
   ‚îÇ ‚Ä¢ 5 producci√≥n                         ‚îÇ
   ‚îÇ ‚Ä¢ 2 dise√±o/pruebas                     ‚îÇ
   ‚îÇ ‚Ä¢ 1 contingencia                       ‚îÇ
   ‚îÇ                                        ‚îÇ
   ‚îÇ Supuestos:                             ‚îÇ
   ‚îÇ ‚Ä¢ Operaci√≥n simult√°nea m√°xima: 5 locos ‚îÇ
   ‚îÇ                                        ‚îÇ
   ‚îÇ Riesgos:                               ‚îÇ
   ‚îÇ ‚Ä¢ R-ATP-001 (Mitigado)                 ‚îÇ
   ‚îÇ                                        ‚îÇ
   ‚îÇ Origen:                                ‚îÇ
   ‚îÇ ‚Ä¢ DT-TETRA-001 (7 Oct 2025)           ‚îÇ
   ‚îÇ ‚Ä¢ Aprobado por: PMO + Especialista     ‚îÇ
   ‚îÇ                                        ‚îÇ
   ‚îÇ Referencias:                           ‚îÇ
   ‚îÇ ‚Ä¢ AT1 ¬ß2.1 (Alcance)                   ‚îÇ
   ‚îÇ ‚Ä¢ V.2 CTC ¬ß3.2 (Arquitectura)          ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Estado:** ‚úÖ Funciona para 12 √≠tems cr√≠ticos

**Qu√© falta:** Expandir a todos los √≠tems (124)

---

### **NIVEL 4: REPORTE GERENCIAL - JUSTIFICACIONES**

**PREGUNTA: "¬øC√≥mo actualizar justificaciones de cantidades en el Reporte Gerencial?"**

**RESPUESTA:**

El Reporte Gerencial debe mostrar:

```html
üìä JUSTIFICACI√ìN DE CANTIDADES POR SISTEMA

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. CONTROL Y SE√ëALIZACI√ìN VIRTUAL                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1.2.100 - Computadora ATP embarcada: 8 UND                    ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ üí° JUSTIFICACI√ìN:                                             ‚îÇ
‚îÇ Alineaci√≥n con AT1: 5 locomotoras contractuales + 2 para      ‚îÇ
‚îÇ dise√±o/pruebas + 1 contingencia = 8 UND total                 ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ üîß CRITERIO T√âCNICO:                                          ‚îÇ
‚îÇ Operaci√≥n simult√°nea m√°xima: 5 locomotoras seg√∫n AT1          ‚îÇ
‚îÇ Adicionales: 2 para dise√±o/pruebas + 1 contingencia          ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ üìã SUPUESTO:                                                  ‚îÇ
‚îÇ Operaci√≥n ferroviaria NO requiere m√°s de 5 locomotoras        ‚îÇ
‚îÇ simult√°neas en toda la concesi√≥n                              ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ ‚ö†Ô∏è RIESGO PRINCIPAL:                                          ‚îÇ
‚îÇ R-ATP-001 - Disponibilidad ATP (Mitigado con contratos marco)‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ üí∞ IMPACTO PRESUPUESTAL:                                      ‚îÇ
‚îÇ Antes: $1,800,000,000 COP (15 UND)                            ‚îÇ
‚îÇ Ahora: $  960,000,000 COP (8 UND)                             ‚îÇ
‚îÇ Ahorro: $  840,000,000 COP (-47%)                             ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ üìé REFERENCIAS:                                               ‚îÇ
‚îÇ ‚Ä¢ DT-TETRA-001 (7 Oct 2025)                                   ‚îÇ
‚îÇ ‚Ä¢ AT1 ¬ß2.1 (Alcance del Proyecto)                            ‚îÇ
‚îÇ ‚Ä¢ V.2 CTC ¬ß3.2 (Arquitectura ATP)                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**C√≥mo implementar:**

1. Cursor ejecuta DT y actualiza `reporte_gerencial_justificaciones.json`
2. Script genera `reporte_gerencial_data.js`
3. HTML carga y muestra justificaciones din√°micamente

**Tiempo:** 2-3 horas

---

## üîÑ FLUJO COCINA ‚Üí DETALLE ‚Üí CARPETA X

### **PASO 1: COCINA (I-VI) - Validaci√≥n T√©cnica**

```
Especialista propone cambio
        ‚Üì
DT-TETRA-001.md (Cocina - en revisi√≥n)
        ‚Üì
PMO valida t√©cnicamente
        ‚Üì
DT aprobado ‚úÖ
```

### **PASO 2: DETALLE (V.X) - Ingenier√≠a Formal**

```
DT aprobado
        ‚Üì
Cursor actualiza V.2_CTC_Detalle_v4.0.md
        ‚Üì
Secci√≥n 3.2 actualizada con:
  - Cantidad: 15 ‚Üí 8 UND
  - Justificaci√≥n: Alineaci√≥n AT1
  - Criterio: 5+2+1
  - Supuesto: Operaci√≥n max 5
        ‚Üì
V.2_CTC_Detalle_v4.0.md ‚Üí v4.1.md (versionado)
        ‚Üì
Estado: ‚úÖ Validado en cocina, documentado en detalle
```

### **PASO 3: CARPETA X/ (Restaurante) - Consolidado para Stakeholders**

```
V.2_CTC_Detalle_v4.1.md (cocina aprobada)
        ‚Üì
Script: consolidar_para_carpeta_x.ps1
        ‚Üì
Lee V.2_CTC_Detalle_v4.1.md
Extrae:
  - Arquitectura ATP (¬ß3.2)
  - Criterio t√©cnico validado (5+2+1)
  - Justificaci√≥n aprobada
        ‚Üì
Genera:
  X_ENTREGABLES_CONSOLIDADOS/
    1_SISTEMAS_TECNICOS/
      SISTEMA_01_Control_Master.md
        ‚Üì
Secci√≥n ATP actualizada:
  "8 unidades ATP embarcadas (5+2+1)"
  "Criterio validado en V.2 CTC v4.1"
  "Origen: DT-TETRA-001"
        ‚Üì
Exporta a:
  8_DOCUMENTOS_SERVIDOS/
    WORD/SISTEMA_01_Control.docx
    HTML/SISTEMA_01_Control.html
        ‚Üì
‚úÖ Listo para entregar a cliente/stakeholders
```

---

## üìÅ ARCHIVOS A CREAR

### **Scripts PowerShell (6 nuevos):**

1. **`scripts/sincronizar_cronograma.ps1`**
   - Genera `cronograma_datos.json`
   - Calcula duraciones desde WBS
   - Identifica ruta cr√≠tica

2. **`scripts/sincronizar_riesgos_wbs.ps1`**
   - Genera `riesgos_wbs.json`
   - Vincula riesgos con √≠tems WBS
   - Calcula exposici√≥n

3. **`scripts/sincronizar_reporte_gerencial.ps1`**
   - Genera `reporte_gerencial_justificaciones.json`
   - Extrae justificaciones de DTs
   - Vincula con √≠tems WBS

4. **`scripts/actualizar_documentos_detalle.ps1`**
   - Lee YAML de DT
   - Actualiza V.X documentos
   - Versiona archivos

5. **`scripts/actualizar_documentos_maestros.ps1`**
   - Lee YAML de DT
   - Actualiza VIII/ documentos
   - Agrega filas en matrices

6. **`scripts/consolidar_para_carpeta_x.ps1`**
   - Lee V.X documentos (cocina aprobada)
   - Consolida en X/1_SISTEMAS_TECNICOS/
   - Exporta a X/8_DOCUMENTOS_SERVIDOS/

### **Archivos JSON (3 nuevos):**

1. **`IX. WBS y Planificacion/cronograma_datos.json`**
2. **`IX. WBS y Planificacion/riesgos_wbs.json`**
3. **`IX. WBS y Planificacion/reporte_gerencial_justificaciones.json`**

### **Modificar HTML (3 archivos):**

1. **`IX. WBS y Planificacion/WBS_Cronograma_Propuesta.html`**
2. **`IX. WBS y Planificacion/WBS_Analisis_Riesgos.html`**
3. **`IX. WBS y Planificacion/WBS_Reporte_Gerencial.html`**

---

## ‚è±Ô∏è PLAN DE IMPLEMENTACI√ìN COMPLETO

### **SEMANA 1: Interfaces Din√°micas (10-12 horas)**

| D√≠a | Tarea | Tiempo | Entregable |
|:---:|:------|:------:|:-----------|
| **Lun** | Cronograma din√°mico | 2-3h | cronograma_datos.json + HTML |
| **Mar** | Riesgos vinculados | 2-3h | riesgos_wbs.json + HTML |
| **Mi√©** | Reporte Gerencial justificaciones | 2-3h | reporte_gerencial_justificaciones.json + HTML |
| **Jue** | Actualizaci√≥n V.X autom√°tica | 2-3h | actualizar_documentos_detalle.ps1 |
| **Vie** | Pruebas integradas | 2h | Validaci√≥n completa |

### **SEMANA 2: Documentos Maestros + Carpeta X (8-10 horas)**

| D√≠a | Tarea | Tiempo | Entregable |
|:---:|:------|:------:|:-----------|
| **Lun** | Actualizaci√≥n VIII/ autom√°tica | 2-3h | actualizar_documentos_maestros.ps1 |
| **Mar** | Ampliar .cursorrules | 1-2h | Reglas para VIII/ |
| **Mi√©** | Consolidaci√≥n Carpeta X | 2-3h | consolidar_para_carpeta_x.ps1 |
| **Jue** | Pruebas end-to-end | 2h | DT ‚Üí Carpeta X completo |
| **Vie** | Documentaci√≥n final | 1h | Gu√≠as de uso |

---

## üéØ RESULTADO FINAL

### **FLUJO COMPLETO AUTOMATIZADO:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  CHAT (Especialista)                                            ‚îÇ
‚îÇ  "Cambiar ATP de 15 a 8, justificaci√≥n: AT1, criterio: 5+2+1"  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  DT-TETRA-001 (Cocina - Validaci√≥n)                            ‚îÇ
‚îÇ  ‚Ä¢ Secciones 1-9: Contexto completo                            ‚îÇ
‚îÇ  ‚Ä¢ Secci√≥n 10: YAML con instrucciones                          ‚îÇ
‚îÇ  ‚Ä¢ Estado: Aprobado ‚úÖ                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  CURSOR EJECUTA (Autom√°tico seg√∫n .cursorrules)                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚úÖ NIVEL 1: WBS + Presupuesto                                 ‚îÇ
‚îÇ  ‚úÖ NIVEL 2: Reporte Gerencial (justificaciones)               ‚îÇ
‚îÇ  ‚úÖ NIVEL 3: EDT Detallado (criterios)                         ‚îÇ
‚îÇ  ‚úÖ NIVEL 4: Cronograma (duraciones)                           ‚îÇ
‚îÇ  ‚úÖ NIVEL 5: Riesgos (exposici√≥n)                              ‚îÇ
‚îÇ  ‚úÖ NIVEL 6: Ingenier√≠a Detalle (V.X ¬ßsecci√≥n)                 ‚îÇ
‚îÇ  ‚úÖ NIVEL 7: Documentos Maestros (VIII/)                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  CARPETA X/ (Restaurante - Consolidado)                        ‚îÇ
‚îÇ  ‚Ä¢ Lee V.2_CTC_Detalle_v4.1.md (cocina aprobada)              ‚îÇ
‚îÇ  ‚Ä¢ Consolida en SISTEMA_01_Control_Master.md                   ‚îÇ
‚îÇ  ‚Ä¢ Exporta a .docx/.html para cliente                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Tiempo total:** 1 cambio ‚Üí TODO actualizado en 1-2 minutos ‚ö°

---

## ‚úÖ BENEFICIOS DEL SISTEMA COMPLETO

| Aspecto | ANTES | DESPU√âS |
|:--------|:------|:--------|
| **Actualizar presupuesto** | ‚úÖ Funciona | ‚úÖ Funciona |
| **Actualizar cronograma** | ‚ùå Manual | ‚úÖ Autom√°tico |
| **Actualizar riesgos** | ‚ùå Manual | ‚úÖ Autom√°tico |
| **Actualizar EDT** | ‚ö†Ô∏è Parcial | ‚úÖ Completo |
| **Actualizar V.X (detalle)** | ‚ùå Manual | ‚úÖ Autom√°tico |
| **Actualizar VIII/ (maestros)** | ‚ùå Manual | ‚úÖ Autom√°tico |
| **Actualizar justificaciones** | ‚ùå Se pierden | ‚úÖ Capturadas |
| **Consolidar Carpeta X** | ‚ùå Manual | ‚úÖ Autom√°tico |
| **Tiempo total** | 1-2 d√≠as | 1-2 minutos |
| **P√©rdida de conocimiento** | 60-80% | 0% |

---

## üöÄ ¬øQU√â SIGUE AHORA?

### **OPCI√ìN 1: Implementar todo el sistema (18-22 horas)**
Hacer las 2 semanas completas de desarrollo

### **OPCI√ìN 2: Implementar por prioridad (5-8 horas)**
Solo lo cr√≠tico:
1. Cronograma din√°mico (2-3h)
2. Riesgos vinculados (2-3h)
3. Reporte Gerencial justificaciones (2-3h)

### **OPCI√ìN 3: Prueba de concepto (2-3 horas)**
Implementar solo para DT-TETRA-001:
1. Agregar justificaci√≥n a reporte_gerencial_justificaciones.json
2. Modificar HTML para mostrarla
3. Validar que funciona

---

**¬øQu√© prefieres?** üéØ

**Elaborado por:** Sistema WBS Interactivo  
**Fecha:** 8 de Octubre de 2025  
**Versi√≥n:** 1.0  
**Estado:** ‚úÖ PLAN COMPLETO DEFINIDO

